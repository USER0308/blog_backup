## 7 月 1 日
还在用java后端通过web3sdk连接bcos

## 7 月 2 日

## 7 月 3 日
终于可以在java后端通过web3sdk连接上了bcos,期间出了好多问题,比如dao和mapper.xml之间的映射,也有些低级的错误,比如端口写错,之前从未写过java的后端,也未曾学过servlet,虽然用的都是通用的mvc,controller,view,service,但java web的关键就在于这些配置文件中,什么扫描bean,注入service,觉得大脑一团糟,出了错也很难定位错误,有时候挺羡慕林同学的,anyway,真的很感谢俊杰老师和林同学,真的不会java web啦 T_T

## 7 月 4 日
企业实训课,讲的是前端相关的,我以为会讲React框架相关的或者前后端分离,但是并没有,所以我们还是继续做后端,写接口函数,实现函数,前端那边已经有登录注册界面了,看看这周六老师会不会给个前端界面作为参考,没的话只得自己设计了.

## 7 月 5 日
听老师说我们周六就要预答辩了,但好像做得还很少,不知为什么会有这种感觉.接口规范都已经定义好了,只要前后端都按照这个文档来的话,对接起来就没什么大问题,但说实在的,我还是挺担心的,因为根据经验,对接起来肯定会出毛病>_<,大家又讨论了一下需求和实现功能,决定另外提供一个新功能,合同验伪,就是上传一份本地合同,然后输入合同id,从区块链上查找对应交易,获得合同哈希,再计算上传合同的哈希,匹配一下.功能也不是新功能,都是在已有功能的基础上拼接起来的,上传文件,计算哈希,获取交易这都有现成的函数,我们只是打散重新组合而已.

## 7 月 6 日
后端部分差不多完成了,本地数据库测试都通过了,就剩和前端的对接,然后再测试.貌似前端那边没什么动静,也没说遇到什么问题,也没说做到哪种程度了.然而,在将项目打包成war文件,上传服务器,用tomcat部署时,却报空指针错误,但是在本地测试明明是可以的,这种bug都不知道怎么描述,但直觉告诉我,这应该是java web框架的原因,它通过注入的方式来生成对象,而不是像以前写java项目那样new出一个对象,所以感觉上是因为注入失败而报空指针.一个晚上都毫无进展...

## 7 月 7 日
老师来检查进度了,另外一组据说已经做好了,前端那边据说也好了,啊?难道就剩我后端了???慌的一皮,把bug跟老师说了,调试了一个上午,也没能解决,老师说,最后的办法就是将项目迁移到一个能运行的已有项目中,不改配置,只把类复制过去,修改包依赖这些,然后晚上才搞好,能运行起来了,部署上服务器了.

## 7 月 8 日
前端代码也出来了,然后对接的时候,跨域问题,老问题了,之前做的每一个web项目前后端对接的时候都会出现这个问题,python的话,用的是django-cors-header中间件,js的话用的是proxy-table,但java...,还好网络有资料,不过这个是controller那里解决的事情了

## 7 月 9 日
看过前端的代码才知道还有好多都没做,好多细节也没处理好,比如页面的跳转没做,注册没有再次输入确认,登录密码栏还是明文,然后下午小组一起在图书馆7楼加班一下午,把前端的工作分一下,前端用的是React,之前也没人学过,但我们都有写过vue,axios发送json请求都是一样的,然后就这样又写后端又写前端又搞区块链,晚上,把更新白条额度,上传文件,创建交易,查询白条列表,查询交易列表这几个接口都写上了,还差修改白条状态,修改交易状态,下载合同(我们内部新提出的功能),合同验伪.

## 7 月 10 日
上午下午晚上小组成员依旧在图书馆7楼加班,加班了一天了,明天就要正式答辩了,修改状态,下载合同都做成了,上传文件那里出了问题,本来是把文件上传到后端,结果后端这边读取到的只是"file object"这个字符串,然后写入文件中,导致每次上次文件,创建交易,计算出文件哈希都是一样的,也导致了文件验伪那里永远是错误了,搞到晚上十点半,没搞出来,不管怎样,还有明天一个早上

## 7 月 11 日
昨夜睡得不踏实,十二点睡的,2点醒了,6点醒了,7点起来找文件上传,昨晚zy说尝试html5上传,意思是在React里写html5的文件上传代码,也不知道找到没,找找文件上传,然后找到了,文件上传时不必指定contentType,浏览器会自动加上这个header,然后在axios里设置contentType:false,然后文件上传就成功了,然后测试文件验伪,创建交易,都可以了.真是山重水复疑无路,柳暗花明又一村.此时是早上7点半左右.然后上午老师讲了一会课,我们继续测试接口,服务器的数据库坏了,好的时候用127.0.0.1:3306连接不上,因为用的是.sock文件作为管道传输数据,查看监听端口时3306在监听tcp6,也就是说在监听ipv6的地址.所以web项目用不了数据库,然后在/etc/my.cnf里修改bind_address=127.0.0.1,然后MySQL就启动不了了,注释掉还是不行,删掉这句还是不行,上网搜了下没找到解决办法,那就先用本地数据库了.上午继续测试接口,美化前端,测试容错性,制作ppt,用的是炫酷了动画,不能说是ppt,然后准备讲稿,背讲稿..

下午答辩开始,bcos另外一组同学先上去,做的界面又好看,提供了下载合同功能,而且注册的时候需要经过其他已加入机构的同意,总的来说做得很好

然后是其他小组,感觉都一般,我们小组最后上场,我做的演示,真是又紧张又刺激,背过的台词早就忘得7788了,但还好大体思路还在,首先介绍我们,说下演示流程,然后项目背景介绍,项目架构介绍,分工介绍,项目演示,个人展示,提问与回答,我还记得这一幕,老师让我说一下数据怎样从前端流到区块链,我对着代码讲,然后在几百行的代码里上下翻翻翻,手都在抖,平时明明显而易见的函数怎么都找不到了,我深吸一口气,告诉自己冷静,把话筒从左手换到右手,缓一下紧张的情绪,也为了防止队友们看见我紧张的发抖T_T,然后就好了.

我们答辩完,实验室课题组也要答辩汇报一下进度,本来我是不用上去的,也没准备有演示的ppt,准确来说是没有演示的准备,但是最后还是上了,所以最后在实际演示的时候还是出现了一点小毛病>_<

晚上,还要写信息安全的课程报告,因为明天就是信息安全的期末答辩了

## 7 月 12 日
一大早,早餐也没吃就跑来信息安全这边答辩,我们是第一组,然后答辩的时候老师要ppt,但是我们都没做,差不多一个月之前中期答辩刚完毕的时候老师有说过要做答辩ppt,但是后来的通知都没有提到这件事,所以我们都没有做,然后后面的小组都没做,再之后的小组有时间现做.然后答辩演示的时候,强哥电脑上的本地服务器挂了,才半个小时不到就挂了,搞得很是狼狈.不过最终还是运行起来了.听老师的意思是我们还要完善这个课题,因为我们选题很棒,所以要做成模版给下一届师弟师妹...

答辩完就要写分布式智能软件的课程报告,下午要交...

晚上写企业实训的课题报告,明天要交...

## 7 月 13 日
昨天下午和今天上午有空时和实验室课题的交接同学们对接,稍微看了一点fabric的源码,找到切入口

中午,老师请我们吃饭,过完15号,我们就离开实验室了,考研的准备考研,工作的准备实习,工作一年的就要分别了.

## 7 月 14 日
睡了个美美的觉,觉得快一周没睡过好觉了,然后整理企业实训的资料,文档,代码等

